/* Responsive layout primitives extracted from backup
   Provides .responsive-container, safe-area padding, and section spacing adjustments
   Phone frame / viewport integrity restoration.
*/

/* Safe area support for notch devices - mobile only */
@media (max-width: 640px) {
  .safe-area-padding {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
  .safe-area-padding-top {
    padding-top: max(1rem, env(safe-area-inset-top));
  }
  .safe-area-padding-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
}

/* Navigation spacer relying on --header-height set by MainNavigation */
.nav-offset-spacer {
  height: calc(var(--header-height, 80px) + 2rem);
}
@media (min-width: 768px) {
  .nav-offset-spacer {
    height: calc(var(--header-height, 80px) + 3rem);
  }
}
@media (min-width: 1024px) {
  .nav-offset-spacer {
    height: calc(var(--header-height, 80px) + 4rem);
  }
}

/* Prevent horizontal scroll issues on phone frame */
html,
body {
  overflow-x: hidden;
  max-width: 100vw;
}

/* ============================================
   MOBILE UX ENHANCEMENTS
   ============================================ */

/* Touch-friendly tap targets (44px minimum) */
@media (max-width: 768px) {
  .touch-target-mobile {
    min-height: 44px;
    min-width: 44px;
  }

  /* Larger touch areas for buttons on mobile */
  button,
  [role='button'],
  a {
    min-height: 44px;
  }

  /* Better spacing for form inputs on mobile */
  input,
  select,
  textarea {
    min-height: 48px;
    font-size: 16px; /* Prevents iOS zoom on focus */
  }

  /* Improved mobile navigation spacing */
  .mobile-nav-item {
    padding: 16px 24px;
    min-height: 56px;
    display: flex;
    align-items: center;
  }
}

/* Smooth scrolling for mobile */
@media (max-width: 768px) {
  .scroll-smooth-mobile {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Hide scrollbars on mobile for cleaner look */
  .hide-scrollbar-mobile {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar-mobile::-webkit-scrollbar {
    display: none;
  }
}

/* Mobile-first card layouts */
@media (max-width: 640px) {
  .mobile-card-stack {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .mobile-card-stack > * {
    width: 100%;
  }
}

/* Mobile bottom sheet safe area */
.mobile-bottom-sheet {
  padding-bottom: max(24px, env(safe-area-inset-bottom));
}

/* Mobile sticky footer */
@media (max-width: 768px) {
  .mobile-sticky-footer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 16px;
    padding-bottom: max(16px, env(safe-area-inset-bottom));
    background: var(--color-bg-page);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    z-index: 100;
  }

  /* Add bottom padding to content when sticky footer is present */
  .has-sticky-footer {
    padding-bottom: 100px;
  }
}

@media (max-width: 768px) {
  .services-page,
  .services-section,
  .services-beige,
  [style*='beige'],
  .parallax-container {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
  }

  .services-parallax,
  .parallax-content,
  .services-parallax-track {
    position: relative !important;
    top: 0 !important;
    transform: none !important;
    opacity: 1 !important;
    display: block !important;
  }
}

/* Mobile horizontal scroll containers */
.mobile-scroll-x {
  display: flex;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  gap: 16px;
  padding: 8px 0;
}

.mobile-scroll-x > * {
  scroll-snap-align: start;
  flex-shrink: 0;
}

/* Pull-to-refresh visual indicator area */
.pull-to-refresh-zone {
  min-height: env(safe-area-inset-top, 0px);
}

/* Mobile-optimized text sizes */
@media (max-width: 640px) {
  .mobile-text-adjust {
    font-size: clamp(14px, 4vw, 16px);
    line-height: 1.6;
  }

  .mobile-heading-adjust {
    font-size: clamp(24px, 6vw, 32px);
    line-height: 1.2;
  }
}

/* Prevent text selection on interactive elements (mobile) */
@media (hover: none) {
  .no-select-mobile {
    -webkit-user-select: none;
    user-select: none;
  }
}

/* Mobile landscape adjustments */
@media (max-width: 896px) and (orientation: landscape) {
  .landscape-compact {
    padding-top: 8px;
    padding-bottom: 8px;
  }

  .landscape-hide {
    display: none;
  }
}
